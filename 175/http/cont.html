<style>
.probcontent{
    white-space: pre-wrap;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
	word-wrap: break-word;
}
.mainp{
	text-indent: 2em;
}
.tableborder{
	border-collapse:collapse;
	width: auto;
}
.tableborder td{
    border:1px solid #fcfaf2;
	padding: 0px 10px 0px 10px;
}
</style>
<center>
<h1>計畫生育</h1>
</center>
<p class="mainp">
中國長期以來實施的計畫生育制度主要有：單獨兩孩、雙獨兩孩、一孩半，在政策不斷改變的過程中，請統計出違反政策的案件次數。
</p>

<h3>輸入說明</h3>
<p class="probcontent">單筆測資
第一行有多個整數 $N$ ，代表輸入現存人口(皆無父母-子女關係、視為獨生子女)，以 $0$ 結束
接著有多行輸入，可能是發生生育或是改變政策，有 $3$ 種格式
若有 $3$ 個正整數 $A,B,C$ ，代表 $A$ 和 $B$ 生下了 $C$ 
若有 $2$ 個整數 $D,E$ ， $D$ 必為 $0$ ，代表更改為政策編號$E$
若有 $1$ 個整數 $D$ ， $D$ 必為 $-1$ ，結束輸入
更多說明請見下方提示
政策有：
編號 $1$ 單獨兩孩<a href="https://zh.wikipedia.org/zh-tw/%E5%8D%95%E7%8B%AC%E4%B8%A4%E5%AD%A9" target="_blank">(連結)</a>，夫婦一方為獨生子女即可生兩胎，至多兩胎
編號 $2$ 雙獨兩孩<a href="https://zh.wikipedia.org/zh-tw/%E5%8F%8C%E7%8B%AC%E4%B8%A4%E5%AD%A9" target="_blank">(連結)</a>，夫婦皆為獨生子女才可生兩胎，至多兩胎
編號 $3$ 一孩半<a href="https://zh.wikipedia.org/zh-tw/%E4%B8%80%E5%AD%A9%E5%8D%8A" target="_blank">(連結)</a>，夫婦第一胎為女孩可生第二胎，至多兩胎
$1 \leq N,A,B,C &lt; 2^{31} ； D=-1,0 ； E=1,2,3$ ； $N,A,B,C$為奇數代表男性、偶數代表女性
</p>

<h3>輸出說明</h3>
<p class="probcontent">輸出違法次數</p>

<h3>範例</h3>
<table class="tableborder">
<tr><td>輸入</td><td>輸出</td><td>說明</td></tr>
<tr>
<td valign="top"><p class="probcontent">1 2 3 4 5 6 8 10 0
0 1
1 2 11
1 2 12
3 4 13
3 4 14
5 6 15
12 13 16
12 13 17
14 15 18
14 15 19
0 2
5 6 20
17 18 21
17 18 22
19 8 23
19 8 24
0 3
10 21 25
10 21 26
10 21 27
22 23 28
22 23 30
22 23 32
-1
</p>
</td>
<td valign="top"><p class="probcontent">6
</p></td>
<td valign="top"><p class="probcontent">輸入現存人口
使用單獨兩孩政策

$1~2$ 皆為獨生子女，合法

$3~4$ 皆為獨生子女，合法


$12~13$ 皆非獨生子女，已有 $16$ 一女，違法

$15$ 目前為獨生子女，合法
使用雙獨兩孩政策
$5~6$ 皆為獨生子女，合法；使 $15$ 非獨生子女，但 $15$ 已生育，故其仍合法

$17~18$ 皆非獨生子女，已有 $21$ 一子，違法

$19$ 非獨生子女，已有 $23$ 一子，違法
使用一孩半政策

$10~21$ 已有 $25$ 一子，違法
$10~21$ 已有 $25~26$ 二子女，違法

$22~23$ 第一胎 $28$ 為女，可生育 $30$ ，合法
$22~23$ 已有 $28~30$ 二女，違法
輸入結束
</p></td>
</tr>
</table>

<h3>範例說明</h3>
<p class="probcontent" style="font-family: Consolas;">祖譜
 1─┬─2     3─┬─4     5─┬─6
 ┌─┴─┐     ┌─┴─┐     ┌─┴─┐
11   12─┬─13   14─┬─15  20
      ┌─┴─┐     ┌─┴─┐
     16   17─┬─18   19─┬─8
           ┌─┴─┐     ┌─┴─┐
     10─┬─21   22─┬─23   24
      ┌─┼──┐    ┌─┼──┐
     25 26 27  28 30 32
</p>

<h3>提示</h3>
<p class="probcontent">現存人口後一行必定為更改政策
輸入依照時間順序
人口編號奇數為男、偶數為女
夫妻必為一男一女(輸入沒有依照順序)
若一個人合法生育之後，才有弟妹使其不為獨生子女，其不違法
同一對夫妻違法生育 $2$ 個視為違法 $2$ 次(例如只能生育 $1$ 個但生了 $3$ 個)
一個人只有一個編號
不會有不合理的情況(不存在的人成為夫妻參與生育)
成為夫妻不一定是同輩份
只能跟同一個人生育
假設所有人都沒有死亡
不溯及既往原則
不考慮禁婚親
</p>

<h3>配分方法</h3>
<table class="tableborder">
<tr><td>$100\%$</td><td>符合題目範圍</td></tr>
</table>

<pre><footer>								-xiplus, NOV 26, 2015</footer></pre>